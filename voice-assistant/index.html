<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CropShield ‚Äì Multilingual Voice Assistant</title>

<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin-top: 40px;
  }
  h1 {
    font-size: 34px;
  }
  select, button {
    font-size: 18px;
    padding: 10px 20px;
    margin-top: 15px;
  }
  #heard, #answer {
    margin-top: 20px;
    font-size: 18px;
  }
</style>
</head>

<body>

<h1>üåæ CropShield</h1>
<p>Multilingual Voice Farming Assistant</p>

<select id="lang">
  <option value="en-IN">English</option>
  <option value="hi-IN">Hindi</option>
  <option value="te-IN">Telugu</option>
</select>
<br>

<button onclick="startListening()">üé§ Speak</button>

<div id="heard"></div>
<div id="answer"></div>

<script>
/* ================= SPEECH RECOGNITION ================= */
const SpeechRecognition =
  window.SpeechRecognition || window.webkitSpeechRecognition;

const recognition = new SpeechRecognition();
recognition.continuous = false;
recognition.interimResults = false;

function startListening() {
  const selectedLang = document.getElementById("lang").value;
  recognition.lang = selectedLang;
  recognition.start();
}

recognition.onresult = function (event) {
  const text = event.results[0][0].transcript.toLowerCase();
  document.getElementById("heard").innerText = "You said: " + text;
  handleQuery(text);
};

recognition.onerror = function () {
  document.getElementById("answer").innerText =
    "Could not detect speech. Please try again.";
};

/* ================= MAIN LOGIC ================= */
function handleQuery(input) {
  const lang = document.getElementById("lang").value;
  let reply = "";

  /* ---------- ENGLISH ---------- */
  if (lang === "en-IN") {
    if (input.includes("rain")) {
      reply = "Rain is expected. Avoid spraying today.";
    } else if (input.includes("spray")) {
      reply = "Weather is suitable. You can spray today.";
    } else if (input.includes("kharif")) {
      reply = "Kharif crops include rice, cotton, maize and groundnut.";
    } else if (input.includes("rabi")) {
      reply = "Rabi crops include wheat, mustard and gram.";
    } else if (input.includes("fertilizer") || input.includes("urea") || input.includes("dap")) {
      reply = "Use balanced fertilisers like urea, DAP and NPK.";
    } else if (input.includes("pest") || input.includes("disease")) {
      reply = "Common pests include stem borer, aphids and bollworm.";
    } else if (input.includes("season")) {
      reply = "India mainly has Kharif, Rabi and Zaid seasons.";
    } else {
      reply = "You can ask about crops, fertiliser, pests, rain or spraying.";
    }
  }

  /* ---------- HINDI (ROMAN INPUT) ---------- */
  if (lang === "hi-IN") {
    if (input.includes("baarish") || input.includes("barish")) {
      reply = "‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§ï‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ ‡§π‡•à‡•§ ‡§Ü‡§ú ‡§∏‡•ç‡§™‡•ç‡§∞‡•á ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§";
    } else if (input.includes("spray") || input.includes("chhidkaav")) {
      reply = "‡§Æ‡•å‡§∏‡§Æ ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤ ‡§π‡•à‡•§ ‡§Ü‡§™ ‡§∏‡•ç‡§™‡•ç‡§∞‡•á ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§";
    } else if (input.includes("kharif")) {
      reply = "‡§ñ‡§∞‡•Ä‡§´ ‡§´‡§∏‡§≤‡•á‡§Ç ‡§ß‡§æ‡§®, ‡§ï‡§™‡§æ‡§∏ ‡§î‡§∞ ‡§Æ‡§ï‡•ç‡§ï‡§æ ‡§π‡•à‡§Ç‡•§";
    } else if (input.includes("rabi")) {
      reply = "‡§∞‡§¨‡•Ä ‡§´‡§∏‡§≤‡•á‡§Ç ‡§ó‡•á‡§π‡•Ç‡§Ç, ‡§ö‡§®‡§æ ‡§î‡§∞ ‡§∏‡§∞‡§∏‡•ã‡§Ç ‡§π‡•à‡§Ç‡•§";
    } else if (input.includes("khaad") || input.includes("urea") || input.includes("dap")) {
      reply = "‡§Ø‡•Ç‡§∞‡§ø‡§Ø‡§æ ‡§î‡§∞ ‡§°‡•Ä‡§è‡§™‡•Ä ‡§ï‡§æ ‡§∏‡§Ç‡§§‡•Å‡§≤‡§ø‡§§ ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§";
    } else if (input.includes("keet") || input.includes("rog")) {
      reply = "‡§§‡§®‡§æ ‡§õ‡•á‡§¶‡§ï ‡§î‡§∞ ‡§Æ‡§æ‡§π‡•Ç ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ï‡•Ä‡§ü ‡§π‡•à‡§Ç‡•§";
    } else if (input.includes("mausam") || input.includes("season")) {
      reply = "‡§≠‡§æ‡§∞‡§§ ‡§Æ‡•á‡§Ç ‡§ñ‡§∞‡•Ä‡§´, ‡§∞‡§¨‡•Ä ‡§î‡§∞ ‡§ú‡§º‡§æ‡§Ø‡§¶ ‡§Æ‡•å‡§∏‡§Æ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§";
    } else {
      reply = "‡§ï‡•É‡§™‡§Ø‡§æ ‡§´‡§∏‡§≤, ‡§ñ‡§æ‡§¶, ‡§ï‡•Ä‡§ü ‡§Ø‡§æ ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç‡•§";
    }
  }

  /* ---------- TELUGU (ROMAN INPUT) ---------- */
  if (lang === "te-IN") {
    if (input.includes("varsham")) {
      reply = "‡∞µ‡∞∞‡±ç‡∞∑‡∞Ç ‡∞µ‡∞ö‡±ç‡∞ö‡±á ‡∞Ö‡∞µ‡∞ï‡∞æ‡∞∂‡∞Ç ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞∏‡±ç‡∞™‡±ç‡∞∞‡±á ‡∞ö‡±á‡∞Ø‡∞µ‡∞¶‡±ç‡∞¶‡±Å.";
    } else if (input.includes("spray")) {
      reply = "‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£‡∞Ç ‡∞Ö‡∞®‡±Å‡∞ï‡±Ç‡∞≤‡∞Ç‡∞ó‡∞æ ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞∏‡±ç‡∞™‡±ç‡∞∞‡±á ‡∞ö‡±á‡∞Ø‡∞µ‡∞ö‡±ç‡∞ö‡±Å.";
    } else if (input.includes("kharif")) {
      reply = "‡∞ñ‡∞∞‡±Ä‡∞´‡±ç ‡∞™‡∞Ç‡∞ü‡∞≤‡±Å ‡∞µ‡∞∞‡∞ø, ‡∞™‡∞§‡±ç‡∞§‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Æ‡±ä‡∞ï‡±ç‡∞ï‡∞ú‡±ä‡∞®‡±ç‡∞®.";
    } else if (input.includes("rabi")) {
      reply = "‡∞∞‡∞¨‡±Ä ‡∞™‡∞Ç‡∞ü‡∞≤‡±Å ‡∞ó‡±ã‡∞ß‡±Å‡∞Æ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∂‡±Ü‡∞®‡∞ó‡∞≤‡±Å.";
    } else if (input.includes("eruvu") || input.includes("urea")) {
      reply = "‡∞Ø‡±Ç‡∞∞‡∞ø‡∞Ø‡∞æ ‡∞≤‡±á‡∞¶‡∞æ ‡∞é‡∞®‡±ç‚Äå‡∞™‡±Ä‡∞ï‡±á ‡∞é‡∞∞‡±Å‡∞µ‡±Å‡∞≤‡±Å ‡∞µ‡∞æ‡∞°‡∞æ‡∞≤‡∞ø.";
    } else if (input.includes("purugu") || input.includes("tegulu")) {
      reply = "‡∞∏‡±ç‡∞ü‡±Ü‡∞Ç ‡∞¨‡±ã‡∞∞‡∞∞‡±ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞Ü‡∞´‡∞ø‡∞°‡±ç‡∞∏‡±ç ‡∞∏‡∞æ‡∞ß‡∞æ‡∞∞‡∞£ ‡∞™‡±Å‡∞∞‡±Å‡∞ó‡±Å‡∞≤‡±Å.";
    } else if (input.includes("season")) {
      reply = "‡∞ñ‡∞∞‡±Ä‡∞´‡±ç, ‡∞∞‡∞¨‡±Ä ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞ú‡∞æ‡∞Ø‡∞ø‡∞¶‡±ç ‡∞™‡∞Ç‡∞ü ‡∞ï‡∞æ‡∞≤‡∞æ‡∞≤‡±Å ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø.";
    } else {
      reply = "‡∞™‡∞Ç‡∞ü‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞µ‡∞æ‡∞§‡∞æ‡∞µ‡∞∞‡∞£‡∞Ç ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞Ö‡∞°‡∞ó‡∞Ç‡∞°‡∞ø.";
    }
  }

  document.getElementById("answer").innerText = reply;
  speak(reply, lang);
}

/* ================= SPEECH OUTPUT ================= */
function speak(text, lang) {
  const msg = new SpeechSynthesisUtterance(text);
  msg.lang = lang;
  window.speechSynthesis.speak(msg);
}
</script>

</body>
</html>


