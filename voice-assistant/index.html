<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CropShield ‚Äì Voice Assistant</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      margin-top: 40px;
    }
    select, button {
      font-size: 18px;
      padding: 10px 20px;
      margin-top: 15px;
    }
    #text, #result {
      margin-top: 20px;
      font-size: 18px;
    }
  </style>
</head>

<body>

<h1>üåæ CropShield</h1>
<p>Multilingual Voice Farming Assistant</p>

<select id="languageSelect">
  <option value="en">English</option>
  <option value="hi">Hindi</option>
  <option value="te">Telugu</option>
</select>
<br>

<button onclick="startListening()">üé§ Speak</button>

<div id="text"></div>
<div id="result"></div>

<script>
const SpeechRecognition =
  window.SpeechRecognition || window.webkitSpeechRecognition;

const recognition = new SpeechRecognition();
recognition.lang = "en-IN";

function startListening() {
  recognition.start();
}

recognition.onresult = function (event) {
  const input = event.results[0][0].transcript.toLowerCase();
  document.getElementById("text").innerText = "You said: " + input;
  processLogic(input);
};

function processLogic(input) {
  const lang = document.getElementById("languageSelect").value;
  let reply = "";

  if (lang === "hi") {
    if (input.includes("baarish") || input.includes("barish")) {
      reply = "‡§¨‡§æ‡§∞‡§ø‡§∂ ‡§ï‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ ‡§π‡•à‡•§ ‡§Ü‡§ú ‡§∏‡•ç‡§™‡•ç‡§∞‡•á ‡§® ‡§ï‡§∞‡•á‡§Ç‡•§";
    } else if (input.includes("keede") || input.includes("keet")) {
      reply = "‡§´‡§∏‡§≤ ‡§Æ‡•á‡§Ç ‡§ï‡•Ä‡§ü ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§π‡•à‡•§ ‡§®‡•Ä‡§Æ ‡§§‡•á‡§≤ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§";
    } else {
      reply = "‡§ï‡•É‡§™‡§Ø‡§æ ‡§Æ‡•å‡§∏‡§Æ ‡§Ø‡§æ ‡§´‡§∏‡§≤ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ‡•á‡§Ç‡•§";
    }
    speak(reply, "hi-IN");
  }

  if (lang === "en") {
    if (input.includes("rain")) {
      reply = "Rain is expected. Avoid spraying today.";
    } else if (input.includes("pest")) {
      reply = "Common pests detected. Use neem oil.";
    } else {
      reply = "Please ask about crops or weather.";
    }
    speak(reply, "en-IN");
  }

  if (lang === "te") {
    if (input.includes("varsham")) {
      reply = "‡∞µ‡∞∞‡±ç‡∞∑‡∞Ç ‡∞µ‡∞ö‡±ç‡∞ö‡±á ‡∞Ö‡∞µ‡∞ï‡∞æ‡∞∂‡∞Ç ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞∏‡±ç‡∞™‡±ç‡∞∞‡±á ‡∞ö‡±á‡∞Ø‡∞µ‡∞¶‡±ç‡∞¶‡±Å.";
    } else if (input.includes("purugu")) {
      reply = "‡∞™‡±Å‡∞∞‡±Å‡∞ó‡±Å ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø ‡∞â‡∞Ç‡∞¶‡∞ø. ‡∞®‡∞ø‡∞Æ‡±ç ‡∞Ü‡∞Ø‡∞ø‡∞≤‡±ç ‡∞µ‡∞æ‡∞°‡∞Ç‡∞°‡∞ø.";
    } else {
      reply = "‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞™‡∞Ç‡∞ü‡∞≤ ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø ‡∞Ö‡∞°‡∞ó‡∞Ç‡∞°‡∞ø.";
    }
    speak(reply, "te-IN");
  }

  document.getElementById("result").innerText = reply;
}

function speak(text, lang) {
  const msg = new SpeechSynthesisUtterance(text);
  msg.lang = lang;
  window.speechSynthesis.speak(msg);
}
</script>

</body>
</html>
